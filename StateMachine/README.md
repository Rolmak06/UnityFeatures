This a base state machine framework.
